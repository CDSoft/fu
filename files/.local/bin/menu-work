#!/bin/bash

_menu()
{
    local action=$(cat <<EndOfMenu | uniq | rofi -dmenu -i -l 30 -p "work âžœ"
%(("%-16s"):format(basename(BROWSER))): Web browser with the work profile
%(("%-16s"):format(basename(BROWSER2))): Alternate web browser
%(("%-16s"):format("meet")): Google Meet in the alternate web browser
EndOfMenu
)
    test -n "$action" && $0 "$action"
}

case "$1" in
    ("%(basename(BROWSER))"*) %(BROWSER) -P work ;;
    ("%(basename(BROWSER2))"*) %(BROWSER2) ;;
    ("meet"*) %(BROWSER2) meet.google.com ;;
    ("") _menu ;;
esac
